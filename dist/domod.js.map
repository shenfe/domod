{"version":3,"file":"domod.js","sources":["../src/Polyfill.js","../src/Util.js","../src/OArray.js","../src/Kernel.js","../src/Parser.js","../src/index.js"],"sourcesContent":["(function () {\r\n    // Array.prototype.forEach\r\n    // Array.prototype.filter\r\n    // Array.prototype.map\r\n    // String.prototype.trim\r\n    // String.prototype.startsWith\r\n    // String.prototype.endsWith\r\n    // Object.keys\r\n    if (!Object.keys) {\r\n        Object.keys = function (o) {\r\n            if (o !== Object(o)) throw new TypeError('Object.keys called on a non-object');\r\n            var k = [];\r\n            for (var p in o) if (Object.prototype.hasOwnProperty.call(o, p)) k.push(p);\r\n            return k;\r\n        };\r\n    }\r\n    // Object.values\r\n    if (!Object.values) {\r\n        Object.values = function (o) {\r\n            if (o !== Object(o)) throw new TypeError('Object.values called on a non-object');\r\n            var v = [];\r\n            for (var p in o) if (Object.prototype.hasOwnProperty.call(o, p)) v.push(o[p]);\r\n            return v;\r\n        };\r\n    }\r\n})();\r\n","var gid = (function () {\r\n    var n = 0;\r\n    return function () {\r\n        return n++;\r\n    };\r\n})();\r\n\r\nvar uid = function () {\r\n    return new Date().getTime() * 10000 + Math.floor(Math.random() * 10000);\r\n};\r\n\r\nvar isBoolean = function (v) {\r\n    return typeof v === 'boolean';\r\n};\r\n\r\nvar isNumber = function (v) {\r\n    return typeof v === 'number';\r\n};\r\n\r\nvar isNumeric = function (v) {\r\n    var n = parseInt(v);\r\n    if (isNaN(n)) return false;\r\n    return (typeof v === 'number' || typeof v === 'string') && n == v;\r\n};\r\n\r\nvar isString = function (v) {\r\n    return typeof v === 'string';\r\n};\r\n\r\nvar isFunction = function (v) {\r\n    return typeof v === 'function';\r\n};\r\n\r\nvar isObject = function (v) {\r\n    return v != null && !(v instanceof Array) && Object.prototype.toString.call(v) === '[object Object]';\r\n};\r\n\r\nvar isArray = function (v) {\r\n    return Object.prototype.toString.call(v) === '[object Array]';\r\n};\r\n\r\nvar isLikeArray = function (v) {\r\n    return v instanceof Array;\r\n};\r\n\r\nvar isBasic = function (v) {\r\n    return v == null\r\n        || typeof v === 'boolean'\r\n        || typeof v === 'number'\r\n        || typeof v === 'string'\r\n        || typeof v === 'function';\r\n};\r\n\r\nvar isInstance = function (v, creator) {\r\n    return typeof creator === 'function' && v instanceof creator;\r\n};\r\n\r\nvar isDirectInstance = function (v, creator) {\r\n    return v.constructor === creator;\r\n};\r\n\r\nvar isNode = function (v) {\r\n    if (typeof Node !== 'function') return false;\r\n    return v instanceof Node;\r\n};\r\n\r\nvar isNamedNodeMap = function (v) {\r\n    return v instanceof NamedNodeMap;\r\n};\r\n\r\nvar isEventName = function (v) {\r\n    if (!isString(v) || !v.startsWith('on')) return false;\r\n    return v.substr(2); // TODO\r\n};\r\n\r\nvar isCSSSelector = function (v) {\r\n    return v.indexOf(' ') > 0 || v.indexOf('.') >= 0\r\n        || v.indexOf('[') >= 0 || v.indexOf('#') >= 0;\r\n};\r\n\r\nvar each = function (v, func, arrayReverse) {\r\n    var i;\r\n    var len;\r\n    if (!isArray(v) && isFunction(v.forEach)) {\r\n        v.forEach(func);\r\n    } else if (isObject(v)) {\r\n        for (var p in v) {\r\n            if (!v.hasOwnProperty(p)) continue;\r\n            if (func(v[p], p) === false) break;\r\n        }\r\n    } else if (isLikeArray(v)) {\r\n        if (!arrayReverse) {\r\n            for (i = 0, len = v.length; i < len; i++) {\r\n                if (func(v[i], i) === false) break;\r\n            }\r\n        } else {\r\n            for (i = v.length - 1; i >= 0; i--) {\r\n                if (func(v[i], i) === false) break;\r\n            }\r\n        }\r\n    } else if (isNode(v)) {\r\n        var ret = false;\r\n        switch (v.nodeType) {\r\n        case Node.ELEMENT_NODE:\r\n            break;\r\n        case Node.TEXT_NODE:\r\n        case Node.COMMENT_NODE:\r\n        case Node.PROCESSING_INSTRUCTION_NODE:\r\n        case Node.DOCUMENT_NODE:\r\n        case Node.DOCUMENT_TYPE_NODE:\r\n        case Node.DOCUMENT_FRAGMENT_NODE:\r\n        default:\r\n            ret = true;\r\n        }\r\n        if (ret) return;\r\n        var childNodes = v.childNodes;\r\n        for (i = 0, len = childNodes.length; i < len; i++) {\r\n            if (!childNodes[i]) break;\r\n            func(childNodes[i]);\r\n            each(childNodes[i], func);\r\n        }\r\n    } else if (isNamedNodeMap(v)) {\r\n        for (i = 0, len = v.length; i < len; i++) {\r\n            if (func(v[i]['nodeValue'], v[i]['nodeName']) === false) break;\r\n        }\r\n    }\r\n};\r\n\r\nvar eachIndexOf = function (str, pat) {\r\n    var p0 = 0;\r\n    var p1;\r\n    var len = str.length;\r\n    var r = [];\r\n    while (p0 < len) {\r\n        p1 = str.indexOf(pat, p0);\r\n        if (p1 < len) {\r\n            r.push(p1);\r\n            p0 = p1 + pat.length;\r\n        }\r\n    }\r\n    return r;\r\n};\r\n\r\nvar eachUnique = function (arr, func) {\r\n    if (!isLikeArray(arr)) return;\r\n    var map = {};\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n        var vi = arr[i];\r\n        if (!isNumber(vi) || !isString(vi) || map[vi]) continue;\r\n        map[vi] = true;\r\n        var r = func(vi);\r\n        if (r === false) break;\r\n    }\r\n};\r\n\r\nvar unique = function (arr) {\r\n    var r = [];\r\n    eachUnique(arr, function (v) {\r\n        r.push(v);\r\n    });\r\n    return r;\r\n};\r\n\r\nvar clone = function (val) {\r\n    var r = val;\r\n    if (isObject(val)) {\r\n        r = {};\r\n        each(val, function (v, p) {\r\n            r[p] = clone(v);\r\n        });\r\n    } else if (isLikeArray(val)) {\r\n        r = new val.constructor();\r\n        each(val, function (v) {\r\n            r.push(clone(v));\r\n        });\r\n    }\r\n    return r;\r\n};\r\n\r\nvar hasProperty = function (val, p) {\r\n    if (isObject(val)) {\r\n        return val.hasOwnProperty(p);\r\n    } else if (isLikeArray(val)) {\r\n        var n = parseInt(p);\r\n        return isNumeric(p) && val.length > n && n >= 0;\r\n    }\r\n    return false;\r\n};\r\n\r\nvar clear = function (val, p, withBasicVal) {\r\n    var inRef = isString(p) || isNumber(p);\r\n    var target = inRef ? val[p] : val;\r\n\r\n    if (isObject(target) || isLikeArray(target)) {\r\n        each(target, function (v, p) {\r\n            clear(target, p);\r\n        });\r\n        if (isLikeArray(target)) {\r\n            shrinkArray(target);\r\n        }\r\n    }\r\n\r\n    if (inRef) {\r\n        val[p] = withBasicVal;\r\n    }\r\n};\r\n\r\nvar shrinkArray = function (arr, len) {\r\n    var limited = isNumber(len);\r\n    if (!limited) {\r\n        each(arr, function (v, i) {\r\n            if (v == null) arr.pop();\r\n        }, true);\r\n    } else {\r\n        each(arr, function (v, i) {\r\n            if (i >= len) arr.pop();\r\n            else return false;\r\n        }, true);\r\n        while (arr.length < len) {\r\n            arr.push(null);\r\n        }\r\n    }\r\n    return arr;\r\n};\r\n\r\nvar touchLeaves = function (obj) {\r\n    each(obj, function (v, p) {\r\n        if (isBasic(v)) {\r\n            obj[p] = v;\r\n        } else {\r\n            touchLeaves(v);\r\n        }\r\n    });\r\n};\r\n\r\nvar extend = function (dest, srcs, clean, handler) {\r\n    if (!isObject(dest)) return srcs;\r\n    var args;\r\n    var argOffset = 0;\r\n    handler = undefined;\r\n    clean = false;\r\n    var lastArg = arguments[arguments.length - 1];\r\n    if (isFunction(lastArg)) {\r\n        argOffset = 2;\r\n        handler = lastArg;\r\n        clean = !!arguments[arguments.length - 2];\r\n    } else if (lastArg === true) {\r\n        argOffset = 1;\r\n        clean = lastArg;\r\n    }\r\n    args = Array.prototype.slice.call(arguments, 1, arguments.length - argOffset);\r\n\r\n    function extendObj(obj, src, clean) {\r\n        if (!isObject(src) && !isLikeArray(src)) return src;\r\n        if (isLikeArray(src)) {\r\n            if (!isLikeArray(obj)) return clone(src);\r\n            else {\r\n                obj.splice.apply(obj, [0, obj.length].concat(src));\r\n                return obj;\r\n            }\r\n        }\r\n        each(src, function (v, p) {\r\n            if (!hasProperty(obj, p) || isBasic(v)) {\r\n                if (obj[p] !== v) {\r\n                    obj[p] = clone(v);\r\n                }\r\n            } else {\r\n                obj[p] = extendObj(obj[p], v, clean);\r\n            }\r\n        });\r\n        if (clean) {\r\n            each(obj, function (v, p) {\r\n                if (!hasProperty(src, p)) {\r\n                    clear(obj, p);\r\n                }\r\n            });\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    each(args, function (src) {\r\n        dest = extendObj(dest, src, clean);\r\n    });\r\n    return dest;\r\n};\r\n\r\nvar allRefs = function (obj) {\r\n    if (isLikeArray(obj)) return [];\r\n    var refs = [];\r\n    each(obj, function (v, p) {\r\n        refs.push(p);\r\n        if (isObject(v)) {\r\n            var f = allRefs(v);\r\n            each(f, function (pp) {\r\n                refs.push(p + '.' + pp);\r\n            });\r\n        }\r\n    })\r\n    return refs;\r\n};\r\n\r\nvar hasRef = function (root, refPath) {\r\n    var v = root;\r\n    var paths = refPath.split('.');\r\n    while (paths.length) {\r\n        var p = paths.shift();\r\n        if (!hasProperty(v, p)) return false;\r\n        v = v[p];\r\n    }\r\n    return true;\r\n};\r\n\r\nvar seekTarget = function (refPath, root) {\r\n    var args = Array.prototype.slice.call(arguments, 1);\r\n    var v;\r\n    for (var i = 0, len = args.length; i < len; i++) {\r\n        v = args[i];\r\n        if (isArray(v)) {\r\n            var r = seekTarget.apply(null, [refPath].concat(v));\r\n            if (r) return r;\r\n        } else {\r\n            if (hasRef(v, refPath)) return v;\r\n        }\r\n    }\r\n};\r\n\r\nvar seekTargetIndex = function (refPath, roots) {\r\n    var index = roots.length - 1;\r\n    each(roots, function (v, i) {\r\n        if (hasRef(v, refPath)) {\r\n            index = i;\r\n            return false;\r\n        }\r\n    });\r\n    return index;\r\n};\r\n\r\nvar refData = function (root, refPath, value) {\r\n    var toSet = arguments.length >= 3;\r\n    var v = root;\r\n    var paths = [];\r\n    if (refPath) paths = refPath.split('.');\r\n\r\n    if (!toSet) {\r\n        while (paths.length) {\r\n            if (isBasic(v)) return undefined;\r\n            v = v[paths.shift()];\r\n        }\r\n        return v;\r\n    } else {\r\n        while (paths.length) {\r\n            if (isBasic(v)) return undefined;\r\n            if (paths.length === 1) {\r\n                v[paths.shift()] = value;\r\n            } else {\r\n                v = v[paths.shift()];\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n};\r\n\r\nfunction addEvent($el, eventName, handler, useCapture) {\r\n    if ($el.addEventListener) {\r\n        $el.addEventListener(eventName, handler, !!useCapture);\r\n    } else {\r\n        if (eventName === 'input') {\r\n            eventName = 'propertychange';\r\n        }\r\n        $el.attachEvent('on' + eventName, handler);\r\n    }\r\n}\r\n\r\nfunction flatten(root, objectFilter, clean) {\r\n    objectFilter = objectFilter || function () { return true; };\r\n    var ext = {};\r\n    each(root, function (v, p) {\r\n        if (isObject(v) && !objectFilter(v)) {\r\n            var f = flatten(v, objectFilter, clean);\r\n            each(f, function (vv, pp) {\r\n                ext[p + '.' + pp] = vv;\r\n            });\r\n        } else {\r\n            if (objectFilter(v) || !clean) {\r\n                ext[p] = v;\r\n            }\r\n        }\r\n    })\r\n    return ext;\r\n}\r\n\r\nexport {\r\n    gid,\r\n    uid,\r\n    isBoolean,\r\n    isNumber,\r\n    isNumeric,\r\n    isString,\r\n    isFunction,\r\n    isObject,\r\n    isArray,\r\n    isLikeArray,\r\n    isBasic,\r\n    isInstance,\r\n    isDirectInstance,\r\n    isNode,\r\n    isNamedNodeMap,\r\n    isEventName,\r\n    isCSSSelector,\r\n    each,\r\n    eachIndexOf,\r\n    eachUnique,\r\n    unique,\r\n    clone,\r\n    hasProperty,\r\n    clear,\r\n    shrinkArray,\r\n    touchLeaves,\r\n    extend,\r\n    allRefs,\r\n    hasRef,\r\n    seekTarget,\r\n    seekTargetIndex,\r\n    refData,\r\n    addEvent,\r\n    flatten\r\n}\r\n","import * as Util from './Util'\r\n\r\nvar canUseProxy = typeof Proxy === 'function';\r\n\r\nfunction defineProperty(target, prop, desc) {\r\n    if (Object.defineProperty) {\r\n        Object.defineProperty(target, prop, desc);\r\n    } else {\r\n        if ('value' in desc) {\r\n            target[prop] = desc.value;\r\n        }\r\n    }\r\n}\r\n\r\nfunction OArray(arr, option) {\r\n    if (Util.isObject(arr) && arguments.length === 1) option = arr;\r\n    if (!Util.isArray(arr)) arr = [];\r\n    if (!option) option = {};\r\n\r\n    defineProperty(this, '__data', {\r\n        value: arr\r\n    });\r\n\r\n    defineProperty(this, 'length', {\r\n        get: function () {\r\n            return arr.length;\r\n        },\r\n        set: function (v) {\r\n            arr.length = v;\r\n        }\r\n    });\r\n\r\n    var _this = this;\r\n\r\n    var eventNames = ['set', 'push', 'pop', 'unshift', 'shift', 'splice', 'resize'];\r\n    eventNames.forEach(function (e) {\r\n        defineProperty(_this, 'on' + e, { value: [] });\r\n    });\r\n    eventNames.forEach(function (e) {\r\n        _this.addEventListener(e, option['on' + e]);\r\n    });\r\n\r\n    Util.each(arr, function (v, i) {\r\n        _this.assignElement(i);\r\n    });\r\n}\r\n\r\nOArray.prototype = [];\r\nOArray.prototype.constructor = OArray;\r\n\r\nOArray.prototype.addEventListener = function (eventName, handler) {\r\n    var _this = this;\r\n    if (Util.isObject(eventName)) {\r\n        Util.each(eventName, function (hdl, evt) {\r\n            _this.addEventListener(evt, hdl);\r\n        });\r\n        return;\r\n    }\r\n    if (!this['on' + eventName] || !Util.isFunction(handler)) return;\r\n    this['on' + eventName].push(handler);\r\n};\r\nOArray.prototype.on = OArray.prototype.addEventListener;\r\n\r\nOArray.prototype.removeEventListener = function (eventName, handler) {\r\n    var _this = this;\r\n    if (Util.isObject(eventName)) {\r\n        Util.each(eventName, function (hdl, evt) {\r\n            _this.removeEventListener(evt, hdl);\r\n        });\r\n        return;\r\n    }\r\n    if (!this['on' + eventName] || !Util.isFunction(handler)) return;\r\n    var handlers = this['on' + eventName];\r\n    Util.each(handlers, function (h, i) {\r\n        if (h === handler) {\r\n            handlers.splice(i, 1);\r\n            return false;\r\n        }\r\n    });\r\n};\r\nOArray.prototype.off = OArray.prototype.removeEventListener;\r\n\r\nOArray.prototype.dispatchEvent = function (eventName, args) {\r\n    args = Array.prototype.slice.call(arguments, 1);\r\n    var _this = this;\r\n    Util.each(this['on' + eventName], function (handler) {\r\n        handler.apply(_this, args);\r\n    });\r\n};\r\nOArray.prototype.trigger = OArray.prototype.dispatchEvent;\r\n\r\nOArray.prototype.get = function (i) {\r\n    return this.__data[i];\r\n};\r\n\r\nOArray.prototype.set = function (i, v) {\r\n    var e = this.__data[i];\r\n    if (Util.isBasic(e) || Util.isBasic(v)) {\r\n        this.dispatchEvent('set', e, v, i, this.__data);\r\n        this.__data[i] = v;\r\n    } else {\r\n        Util.extend(e, v, true);\r\n    }\r\n};\r\n\r\nOArray.prototype.assignElement = function (i) {\r\n    defineProperty(this, i, {\r\n        get: function () {\r\n            return this.get(i);\r\n        },\r\n        set: function (val) {\r\n            this.set(i, val);\r\n        },\r\n        configurable: true,\r\n        enumerable: true\r\n    });\r\n};\r\nOArray.prototype.deleteElement = function () {\r\n    if (this.hasOwnProperty(this.length - 1)) delete this[this.length - 1];\r\n};\r\n\r\n['push', 'unshift'].forEach(function (f) {\r\n    OArray.prototype[f] = function (v) {\r\n        this.__data[f](v);\r\n        this.assignElement(this.length - 1);\r\n        this.dispatchEvent(f, v);\r\n        this.dispatchEvent('resize');\r\n    };\r\n});\r\n['pop', 'shift'].forEach(function (f) {\r\n    OArray.prototype[f] = function () {\r\n        this.dispatchEvent(f, this.__data[f === 'pop' ? (this.length - 1) : 0]);\r\n        this.deleteElement();\r\n        this.__data[f]();\r\n        this.dispatchEvent('resize');\r\n    };\r\n});\r\n\r\nOArray.prototype.toArray = function (notClone) {\r\n    return notClone ? this.__data : Util.clone(this.__data);\r\n};\r\n\r\nOArray.prototype.splice = function (startIndex, howManyToDelete, itemToInsert) {\r\n    if (!Util.isNumber(startIndex) || startIndex < 0) startIndex = 0;\r\n    if (startIndex >= this.length) startIndex = this.length;\r\n    if (!Util.isNumber(howManyToDelete) || howManyToDelete < 0) howManyToDelete = 0;\r\n    if (howManyToDelete + startIndex > this.length) howManyToDelete = this.length - startIndex;\r\n\r\n    var itemsToDelete = [];\r\n    for (var i = startIndex; i < startIndex + howManyToDelete; i++) {\r\n        itemsToDelete.push(Util.clone(this.get(i)));\r\n    }\r\n\r\n    var itemsToInsert = Array.prototype.slice.call(arguments, 2);\r\n    var howManyToInsert = itemsToInsert.length;\r\n\r\n    var howManyToSet = Math.min(howManyToDelete, howManyToInsert);\r\n    for (var j = startIndex; j < startIndex + howManyToSet; j++) {\r\n        this.set(j, itemsToInsert[j - startIndex]);\r\n    }\r\n\r\n    if (howManyToDelete === howManyToInsert) return;\r\n\r\n    var args;\r\n    if (howManyToDelete > howManyToInsert) {\r\n        args = [startIndex + howManyToInsert, howManyToDelete - howManyToInsert];\r\n        Array.prototype.splice.apply(this.__data, args);\r\n    } else {\r\n        args = [startIndex + howManyToDelete, 0].concat(itemsToInsert.slice(howManyToDelete));\r\n        Array.prototype.splice.apply(this.__data, args);\r\n    }\r\n    this.dispatchEvent.apply(this, ['splice'].concat(args));\r\n    this.dispatchEvent('resize');\r\n};\r\n\r\nOArray.prototype.forEach = function (fn) {\r\n    for (var i = 0; i < this.length; i++) {\r\n        var r = fn(this.get(i), i);\r\n        if (r === false) break;\r\n    }\r\n};\r\n\r\n['reverse', 'sort'].forEach(function (f) {\r\n    OArray.prototype[f] = function () {\r\n        var r = Util.clone(this.__data);\r\n        Array.prototype[f].apply(r, arguments);\r\n        for (var i = 0; i < this.length; i++) {\r\n            this.set(i, r[i]);\r\n        }\r\n    };\r\n});\r\n\r\n['slice', 'concat', 'filter', 'map', 'reduce',\r\n    'indexOf', 'find', 'findIndex', 'fill', 'join'].forEach(function (f) {\r\n    OArray.prototype[f] = function () {\r\n        return Array.prototype[f].apply(this.toArray(), arguments);\r\n    };\r\n});\r\n\r\nOArray.prototype.clear = function () {\r\n    while (this.length) {\r\n        this.pop();\r\n    }\r\n    return this;\r\n};\r\n\r\nOArray.prototype.cast = function (arr) {\r\n    return this.splice.apply(this, [0, this.length].concat(arr));\r\n};\r\n\r\nexport default OArray\r\n","import * as Util from './Util'\r\nimport OArray from './OArray'\r\n\r\nvar GlobalNamespace = '_DMD_';\r\nif (typeof window !== 'object') var window = {};\r\nwindow[GlobalNamespace] = window[GlobalNamespace] || {};\r\nvar Store = window[GlobalNamespace]['Store'] = window[GlobalNamespace]['Store'] || {};\r\nvar Dnstreams = window[GlobalNamespace]['Dnstreams'] = window[GlobalNamespace]['Dnstreams'] || {};\r\nvar ResultsIn = window[GlobalNamespace]['ResultsIn'] = window[GlobalNamespace]['ResultsIn'] || {};\r\nvar Upstreams = window[GlobalNamespace]['Upstreams'] = window[GlobalNamespace]['Upstreams'] || {};\r\nvar ResultsFrom = window[GlobalNamespace]['ResultsFrom'] = window[GlobalNamespace]['ResultsFrom'] || {};\r\nvar Laziness = window[GlobalNamespace]['Laziness'] = window[GlobalNamespace]['Laziness'] || {};\r\nvar PropKernelTable = window[GlobalNamespace]['PropKernelTable'] = window[GlobalNamespace]['PropKernelTable'] || {};\r\nvar KernelStatus = window[GlobalNamespace]['KernelStatus'] = window[GlobalNamespace]['KernelStatus'] || {};\r\nvar GetterSetter = window[GlobalNamespace]['GetterSetter'] = window[GlobalNamespace]['GetterSetter'] || {};\r\nvar __ = {};\r\n\r\nfunction defineProperty(target, prop, desc, proppath) {\r\n    if (!Util.isNode(target)) {\r\n        if (Util.isInstance(target, OArray)) {\r\n            if (desc.set) {\r\n                target.on('set', function (oval, nval, i, arr) {\r\n                    if (i == prop) {\r\n                        desc.set(nval);\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            Object.defineProperty(target, prop, desc);\r\n        }\r\n    } else {\r\n        if ('value' in desc) {\r\n            target[prop] = desc.value;\r\n        }\r\n    }\r\n\r\n    if (proppath === false) return;\r\n\r\n    proppath = proppath || fullpathOf(prop, target);\r\n    if (!GetterSetter[proppath] && ('get' in desc || 'set' in desc)) GetterSetter[proppath] = {};\r\n    if ('get' in desc) {\r\n        GetterSetter[proppath].get = desc.get;\r\n    }\r\n    if ('set' in desc) {\r\n        GetterSetter[proppath].set = desc.set;\r\n    }\r\n}\r\n\r\nfunction joinPath(root, path) {\r\n    if (!path || path === '') return root;\r\n    if (!root || root === '') return path;\r\n    return root + '.' + path;\r\n}\r\n\r\nfunction splitPath(path) {\r\n    return path\r\n        .replace(/\"([0-9a-zA-Z$_]+)\"/mg, function (p0, p1) { return p1; })\r\n        .replace(/'([0-9a-zA-Z$_]+)'/mg, function (p0, p1) { return p1; })\r\n        .replace(/\\[([0-9a-zA-Z$_]+)\\]/mg, function (p0, p1) { return '.' + p1; })\r\n        .split('.');\r\n}\r\n\r\nfunction fullpathOf(ref, root) {\r\n    if (root === undefined) return ref;\r\n    var pre = register(root);\r\n    if (pre == null) return ref || '';\r\n    return joinPath(pre, ref);\r\n}\r\n\r\nfunction register(root) {\r\n    if (root === Store || (!Util.isObject(root) && !Util.isNode(root))) return null;\r\n    if (!root.__kernel_root) {\r\n        var id = 'kr_' + Util.uid();\r\n        defineProperty(root, '__kernel_root', {\r\n            value: id\r\n        });\r\n        Store[id] = root;\r\n    }\r\n    return root.__kernel_root;\r\n}\r\n\r\nfunction formatStream(stream, root) {\r\n    if (Util.isObject(stream) || Util.isString(stream)) stream = [stream];\r\n    if (Util.isArray(stream)) {\r\n        return stream.map(function (a) {\r\n            if (Util.isObject(a)) return joinPath(register(a.root), a.alias);\r\n            if (Util.isString(a)) return joinPath(register(root), a);\r\n            return null;\r\n        });\r\n    }\r\n    return [];\r\n}\r\n\r\nfunction propKernelOrder(proppath) {\r\n    if (PropKernelTable[proppath] === undefined) return 0;\r\n    return PropKernelTable[proppath].length;\r\n}\r\n\r\n/**\r\n * Kernel constructor function.\r\n * @constructor\r\n */\r\nfunction Kernel(root, path, relations) {\r\n    if (typeof path === 'string') {\r\n        path = splitPath(path).join('.');\r\n    }\r\n    var obj = {};\r\n    var value;\r\n    obj = scopeOf(path, root);\r\n    if (obj == null) return;\r\n    value = obj.target[obj.property];\r\n\r\n    var proppath;\r\n    if (!obj.target['__proppath']) {\r\n        defineProperty(obj.target, '__proppath', {\r\n            value: joinPath(register(root), splitPath(path).slice(0, -1).join('.'))\r\n        });\r\n        proppath = joinPath(register(root), path);\r\n    } else {\r\n        proppath = joinPath(obj.target['__proppath'], obj.property);\r\n    }\r\n\r\n    var __kid = proppath + '#' + propKernelOrder(proppath);\r\n    defineProperty(this, '__kid', {\r\n        value: __kid\r\n    }, false);\r\n    KernelStatus[this.__kid] = 1;\r\n    if (PropKernelTable[proppath] === undefined) {\r\n        PropKernelTable[proppath] = [];\r\n        if (Util.hasProperty(obj.target, obj.property) && !Util.isInstance(obj.target, OArray)) {\r\n            delete obj.target[obj.property];\r\n        }\r\n    }\r\n    PropKernelTable[proppath].push(1);\r\n\r\n    var dnstream = formatStream(relations.dnstream, root);\r\n    var resultIn = relations.resultIn;\r\n    var upstream = formatStream(relations.upstream, root);\r\n    var resultFrom = relations.resultFrom;\r\n    var lazy = !!relations.lazy;\r\n    if (!Dnstreams[proppath]) Dnstreams[proppath] = {};\r\n    dnstream.forEach(function (p) {\r\n        if (!Upstreams[p]) Upstreams[p] = {};\r\n        if (!Upstreams[p][proppath]) Upstreams[p][proppath] = {};\r\n        Upstreams[p][proppath][__kid] = 1;\r\n        if (!Dnstreams[proppath][p]) Dnstreams[proppath][p] = {};\r\n        Dnstreams[proppath][p][__kid] = 1;\r\n    });\r\n    if (!ResultsIn[proppath]) ResultsIn[proppath] = [];\r\n    ResultsIn[proppath].push(Util.isFunction(resultIn) ? resultIn : null);\r\n    if (!Upstreams[proppath]) Upstreams[proppath] = {};\r\n    upstream.forEach(function (p) {\r\n        if (!Upstreams[proppath][p]) Upstreams[proppath][p] = {};\r\n        Upstreams[proppath][p][__kid] = 1;\r\n        if (!Dnstreams[p]) Dnstreams[p] = {};\r\n        if (!Dnstreams[p][proppath]) Dnstreams[p][proppath] = {};\r\n        Dnstreams[p][proppath][__kid] = 1;\r\n    });\r\n    if (Util.isFunction(resultFrom)) {\r\n        ResultsFrom[proppath] = {\r\n            f: resultFrom,\r\n            k: this.__kid,\r\n            deps: upstream\r\n        };\r\n    }\r\n    if (lazy) Laziness[proppath] = true;\r\n\r\n    if (PropKernelTable[proppath].length === 1) {\r\n        defineProperty(obj.target, obj.property, {\r\n            get: function () {\r\n                if (ResultsFrom[proppath] && KernelStatus[ResultsFrom[proppath].k] !== 0) {\r\n                    var v = ResultsFrom[proppath].f.apply(\r\n                        null,\r\n                        ResultsFrom[proppath].deps.map(function (p) { return Data(null, p); })\r\n                    );\r\n                    if (value !== v) {\r\n                        GetterSetter[proppath].set(v);\r\n                    }\r\n                }\r\n                return value;\r\n            },\r\n            set: function (val, force) {\r\n                if (!force && val === value) return;\r\n                if (val !== value) {\r\n                    if (Util.isInstance(obj.target, OArray) &&\r\n                        !(Util.isObject(value) && Util.isObject(val))) {\r\n                        obj.target.set(obj.property, val);\r\n                        value = obj.target[obj.property];\r\n                    } else {\r\n                        value = Util.extend(value, val);\r\n                    }\r\n                }\r\n\r\n                ResultsIn[proppath] && ResultsIn[proppath].forEach(function (f, k) {\r\n                    f && (KernelStatus[proppath + '#' + k] !== 0) && f.apply(root, [value]);\r\n                });\r\n                if (Dnstreams[proppath]) {\r\n                    Util.each(Dnstreams[proppath], function (kmap, ds) {\r\n                        var toUpdateDnstream = false;\r\n                        Util.each(kmap, function (v, k) {\r\n                            if (KernelStatus[k] !== 0) {\r\n                                toUpdateDnstream = true;\r\n                                return false;\r\n                            }\r\n                        });\r\n                        toUpdateDnstream && ResultsFrom[ds] && !Laziness[ds] && Data(null, ds);\r\n                    });\r\n                }\r\n            },\r\n            // configurable: true,\r\n            enumerable: true\r\n        }, proppath);\r\n    }\r\n\r\n    if (Util.hasProperty(relations, 'value')) {\r\n        Data(null, proppath, relations.value);\r\n    }\r\n}\r\n\r\nKernel.prototype.disable = function () {\r\n    KernelStatus[this.__kid] = 0;\r\n};\r\nKernel.prototype.enable = function () {\r\n    KernelStatus[this.__kid] = 1;\r\n};\r\nKernel.prototype.destroy = function () {};\r\n\r\n/**\r\n * Whether an object is a relation definition.\r\n * @param {Object} obj \r\n * @return {Boolean}\r\n */\r\nfunction isRelationDefinition(obj) {\r\n    if (!Util.isObject(obj)) return false;\r\n    var r = true;\r\n    var specProps = {\r\n        __isRelation: 2, // !\r\n        dnstream: 1, // *\r\n        resultIn: 1, // *\r\n        upstream: 1, // *\r\n        resultFrom: 1, // *\r\n        lazy: true,\r\n        value: true\r\n    };\r\n    var count = 0;\r\n    Util.each(obj, function (v, p) {\r\n        if (specProps[p] === 2) {\r\n            r = true;\r\n            count++;\r\n            return false;\r\n        }\r\n        if (!specProps[p]) {\r\n            r = false;\r\n            return false;\r\n        }\r\n        if (specProps[p] === 1) {\r\n            count++;\r\n        }\r\n    });\r\n    return r && (count > 0);\r\n}\r\n\r\n/**\r\n * Define and bind data with relations in a whole (PropertyPath => Relation) map.\r\n * @param {Object} obj                  The data object. If `relations` is undefined, it contains relations.\r\n * @param {Object|Undefined} relations  A map from propertyPath to relation.\r\n */\r\nfunction Relate(obj, relations) {\r\n    var fr;\r\n    if (arguments.length === 1) {\r\n        if (!Util.isObject(obj)) return null;\r\n        fr = Util.flatten(obj, isRelationDefinition, true);\r\n    } else if (Util.isObject(relations)) {\r\n        fr = Util.flatten(relations, isRelationDefinition, true);\r\n    } else {\r\n        return null;\r\n    }\r\n    Util.each(fr, function (rel, p) {\r\n        new Kernel(obj, p, rel);\r\n    });\r\n\r\n    return obj;\r\n}\r\n\r\n/**\r\n * Get the target and property.\r\n * @param {String} ref \r\n * @param {Object} root \r\n */\r\nfunction scopeOf(ref, root) {\r\n    if (root === undefined) root = Store;\r\n    if ((!Util.isObject(root) && !Util.isNode(root)) || !Util.isString(ref)) return null;\r\n    var fullpath = fullpathOf(ref, root);\r\n    var lastDot = fullpath.lastIndexOf('.');\r\n    var targetPath = fullpath.substring(0, lastDot);\r\n    var propPath = fullpath.substring(lastDot + 1);\r\n    var targetValue = Data(null, targetPath, __, true);\r\n    if (targetValue == null) {\r\n        targetValue = Data(null, targetPath, {}, true);\r\n    }\r\n    return {\r\n        target: targetValue,\r\n        property: propPath\r\n    };\r\n}\r\n\r\nfunction assign(proppath, src, obj) {\r\n    obj = obj || Data(null, proppath);\r\n    Util.each(src, function (v, p) {\r\n        var pp = joinPath(proppath, p);\r\n        if (!Util.hasProperty(obj, p) || Util.isBasic(obj[p]) || Util.isBasic(v)) {\r\n            Data(null, pp, Util.clone(v));\r\n        } else {\r\n            assign(pp, v, obj[p]);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Get or set data, and trigger getters or setters.\r\n */\r\nfunction Data(root, refPath, value, ensurePathValid) {\r\n    root = root || Store;\r\n    var toSet = arguments.length >= 3 && value !== __;\r\n    var v = root;\r\n    // var proppath = fullpathOf(null, root);\r\n    var paths = [];\r\n    if (refPath) paths = splitPath(refPath);\r\n    var parent;\r\n    var prop;\r\n\r\n    while (paths.length) {\r\n        if (ensurePathValid && v == null) {\r\n            parent[prop] = {};\r\n        } else if (Util.isBasic(v)) {\r\n            return undefined;\r\n        }\r\n        prop = paths.shift();\r\n        // proppath += (proppath === '' ? '' : '.') + prop;\r\n        if (toSet && paths.length === 0) { /* set */\r\n            if (Util.isInstance(v, OArray) &&\r\n                !(Util.isObject(v[prop]) && Util.isObject(value))) {\r\n                v.set(prop, value);\r\n            } else {\r\n                v[prop] = Util.extend(v[prop], value);\r\n            }\r\n        } else { /* get */\r\n            parent = v;\r\n            v = v[prop];\r\n        }\r\n    }\r\n    return toSet ? v[prop] : v;\r\n}\r\n\r\nexport { Kernel, Relate, Data }\r\n","import * as Util from './Util'\r\nimport { Data } from './Kernel'\r\nimport OArray from './OArray'\r\n\r\n/**\r\n * Default configurations.\r\n * @type {Object}\r\n */\r\nvar conf = {\r\n    attrPrefix: 'm-',\r\n    refBeginsWithDollar: true,\r\n    attrsFlag: 'attrs.'\r\n};\r\n\r\n/**\r\n * DOM attribute names to bind.\r\n */\r\nvar domProp = {\r\n    'value': 'value',\r\n    'checked': 'checked',\r\n    'innertext': 'innerText',\r\n    'innerhtml': 'innerHTML',\r\n    'class': 'className',\r\n    'style': 'style.cssText'\r\n};\r\n\r\n/**\r\n * Regular expressions.\r\n */\r\nvar Regs = {\r\n    each11: /^\\s*(\\$([a-zA-Z$_][0-9a-zA-Z$_]*))\\s+in\\s+(\\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*)\\s*$/,\r\n    each12: /^\\s*\\(\\s*(\\$([a-zA-Z$_][0-9a-zA-Z$_]*))\\s*,\\s*(\\$([a-zA-Z$_][0-9a-zA-Z$_]*))\\s*\\)\\s+in\\s+(\\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*)\\s*$/,\r\n    each21: /^\\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\\s+in\\s+(([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*)\\s*$/,\r\n    each22: /^\\s*\\(\\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\\s*,\\s*(([a-zA-Z$_][0-9a-zA-Z$_]*))\\s*\\)\\s+in\\s+(([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*)\\s*$/\r\n};\r\n\r\n/**\r\n * Execute a function with a data object as the scope.\r\n * @param {String} expr \r\n * @param {Array} refs \r\n * @param {*} target \r\n * @return {*}\r\n */\r\nfunction executeFunctionWithScope(expr, refs, target) {\r\n    if (conf.refBeginsWithDollar) {\r\n        expr = expr.replace(/(\\$[a-zA-Z$_][0-9a-zA-Z$_]*)\\s*=[^=]/g, function (match, p1) {\r\n            return match.replace(p1, 'this.' + p1.substr(1));\r\n        });\r\n    }\r\n\r\n    if (Util.isArray(refs)) {\r\n        if (!target) target = refs[refs.length - 1];\r\n    } else {\r\n        refs = [refs];\r\n        if (!target) target = refs[0];\r\n    }\r\n\r\n    var ref = {};\r\n    Util.each(refs, function (r) {\r\n        Util.each(r, function (v, p) {\r\n            if (p in ref) return;\r\n            ref[p] = v;\r\n        });\r\n    });\r\n\r\n    var params = Object.keys(ref);\r\n    if (conf.refBeginsWithDollar) {\r\n        params = params.map(function (r) {\r\n            return '$' + r;\r\n        });\r\n    }\r\n    var args = Object.values(ref);\r\n    // Util.each(args, function (v, i) {\r\n    //     if (Util.isFunction(v)) {\r\n    //         args[i] = v.bind(ref);\r\n    //     }\r\n    // });\r\n    return (new Function(params.join(','), 'return (' + expr + ')')).apply(target, args);\r\n}\r\n\r\n/**\r\n * Evaluate an expression with a data object.\r\n * @param {String} expr \r\n * @param {Array} refs \r\n * @return {*}\r\n */\r\nfunction evaluateExpression(expr, refs) {\r\n    expr = replaceTmplInStrLiteral(expr);\r\n    var result = null;\r\n    try {\r\n        result = executeFunctionWithScope(expr, refs);\r\n    } catch (e) {}\r\n    return result;\r\n}\r\n\r\n/**\r\n * Fix template strings in a string literal to JavaScript string-concat expressions.\r\n * @param {String} str \r\n * @return {String}\r\n * @example \"'My name is {{name}}.'\" => \"'My name is ' + (name) + '.'\"\r\n */\r\nfunction replaceTmplInStrLiteral(str) {\r\n    var reg = /{{([^{}]*)}}/g;\r\n    return str.replace(reg, function (match, p1) {\r\n        return '\\' + (' + p1 + ') + \\'';\r\n    });\r\n}\r\n\r\n/**\r\n * Evaluate a raw text with template expressions.\r\n * @param {String} text \r\n * @param {Array} refs \r\n * @return {String}\r\n * @example ('My name is {{$name}}.', { name: 'Tom' }) => 'My name is Tom.'\r\n */\r\nfunction evaluateRawTextWithTmpl(text, refs) {\r\n    var reg = /{{([^{}]*)}}/g;\r\n    var result = text.replace(reg, function (match, p1) {\r\n        var result = null;\r\n        try {\r\n            result = executeFunctionWithScope(p1, refs);\r\n        } catch (e) {}\r\n        return result;\r\n    });\r\n    return result;\r\n}\r\n\r\n/**\r\n * Parse reference paths from an expression string.\r\n * @param {String} expr \r\n * @return {Array<String>}\r\n */\r\nfunction parseRefsInExpr(expr) {\r\n    expr = ';' + expr + ';';\r\n    var reg;\r\n    var transformNum = function (r) {\r\n        return r.replace(/\\.([0-9]+)([^0-9a-zA-Z$_]?)/g, function (p0, p1, p2) {\r\n            return '[' + p1 + ']' + p2;\r\n        });\r\n    };\r\n    if (conf.refBeginsWithDollar) {\r\n        expr = expr.replace(/([^a-zA-Z0-9$_.])this\\./mg, function (p0, p1) { return p1 + '$'; });\r\n        reg = /\\$([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*/g;\r\n        return (expr.match(reg) || []).map(function (r) {\r\n            return r.substr(1);\r\n        }).map(transformNum);\r\n    } else {\r\n        expr = expr.replace(/([^a-zA-Z0-9$_.])this\\./mg, function (p0, p1) { return p1; });\r\n        reg = /([a-zA-Z$_][0-9a-zA-Z$_]*)(\\.[0-9a-zA-Z$_][0-9a-zA-Z$_]*)*/g;\r\n        return (expr.match(reg) || []).map(transformNum);\r\n    }\r\n}\r\n\r\n/**\r\n * Parse `each` template expression from an attribute value string.\r\n * @param {String} expr \r\n * @param {Array} refs\r\n * @return {Object}\r\n */\r\nfunction parseEachExpr(expr, refs) {\r\n    var valStr;\r\n    var keyStr;\r\n    var targetStr;\r\n    var r;\r\n    if (conf.refBeginsWithDollar) {\r\n        r = Regs.each12.exec(expr);\r\n        if (r) {\r\n            valStr = r[1].substr(1);\r\n            keyStr = r[3].substr(1);\r\n            targetStr = r[5].substr(1);\r\n        } else {\r\n            r = Regs.each11.exec(expr);\r\n            valStr = r[1].substr(1);\r\n            targetStr = r[3].substr(1);\r\n        }\r\n    } else {\r\n        r = Regs.each22.exec(expr);\r\n        if (r) {\r\n            valStr = r[1];\r\n            keyStr = r[3];\r\n            targetStr = r[5];\r\n        } else {\r\n            r = Regs.each21.exec(expr);\r\n            valStr = r[1];\r\n            targetStr = r[3];\r\n        }\r\n    }\r\n    var root = Util.seekTarget(targetStr, refs);\r\n    var value = Data(root, targetStr);\r\n    if (!(value instanceof OArray)) {\r\n        value = new OArray(value);\r\n        Data(root, targetStr, value);\r\n    }\r\n    return {\r\n        target: value,\r\n        targetRef: targetStr,\r\n        iterator: {\r\n            val: valStr,\r\n            key: keyStr\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Parse template expression strings from a raw text such as a text node value.\r\n * @param {String} text     [description]\r\n * @return {Array<String>}  [description]\r\n * @example 'My name is {{$name}}. I\\'m {{$age}} years old.' => ['$name', '$age']\r\n */\r\nfunction parseExprsInRawText(text) {\r\n    var reg = /{{([^{}]*)}}/g;\r\n    var exprs = [];\r\n    text.replace(reg, function (match, p1) {\r\n        exprs.push(p1);\r\n        return '';\r\n    });\r\n    return exprs;\r\n}\r\n\r\n/**\r\n * Get relations from an expression string to the data, and apply in time as well.\r\n * @param {String}      expr \r\n * @param {Array}       refs \r\n * @param {Function}    resultFrom \r\n * @return {Object}\r\n */\r\nfunction relationFromExprToRef(expr, refs, target, proppath, resultFrom) {\r\n    if (!Util.isArray(refs)) refs = [refs];\r\n\r\n    function getAllRefs(expr, refs) {\r\n        var refsInExpr = parseRefsInExpr(expr);\r\n        var subData = {};\r\n        Util.each(refsInExpr, function (r) {\r\n            var i = Util.seekTargetIndex(r, refs);\r\n            if (!subData[i]) subData[i] = {};\r\n            subData[i][r] = Data(refs[i], r);\r\n        });\r\n        var re = [];\r\n        Util.each(subData, function (s, i) {\r\n            re.push({\r\n                target: refs[i],\r\n                refs: Util.allRefs(s)\r\n            });\r\n        });\r\n        return re;\r\n    }\r\n\r\n    var targetIsNode = Util.isNode(target);\r\n    var resultIn = function () {\r\n        var result = (resultFrom || function () {\r\n            return evaluateExpression(expr, refs);\r\n        })();\r\n\r\n        /* Transformation */\r\n        if (targetIsNode && proppath === 'className') {\r\n            var classList = [];\r\n            if (Util.isObject(result)) {\r\n                Util.each(result, function (v, p) {\r\n                    v && classList.push(p);\r\n                });\r\n            } else if (Util.isArray(result)) {\r\n                Util.each(result, function (v) {\r\n                    if (Util.isString(v)) classList.push(v);\r\n                    else if (Util.isObject(v)) {\r\n                        Util.each(v, function (vv, pp) {\r\n                            vv && classList.push(pp);\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            result = classList.join(' ');\r\n        } else if (targetIsNode && proppath === 'style.cssText') {\r\n            var stylePairs = [];\r\n            if (Util.isObject(result)) {\r\n                Util.each(result, function (v, p) {\r\n                    stylePairs.push(p + ':' + v);\r\n                });\r\n            }\r\n            result = stylePairs.join(';');\r\n        }\r\n\r\n        if (targetIsNode && proppath.startsWith(conf.attrsFlag)) {\r\n            if (result != null) {\r\n                var attrName = proppath.substr(conf.attrsFlag.length);\r\n                target.setAttribute(attrName, result);\r\n            }\r\n        } else {\r\n            Data(target, proppath, result);\r\n        }\r\n    };\r\n\r\n    var r = getAllRefs(expr, refs).map(function (a) {\r\n        return {\r\n            target: a.target,\r\n            relations: (function () {\r\n                var r = {};\r\n                a.refs.forEach(function (refpath) {\r\n                    r[refpath] = {\r\n                        resultIn: resultIn\r\n                    };\r\n                });\r\n                return r;\r\n            })()\r\n        };\r\n    });\r\n    resultIn();\r\n    return r;\r\n}\r\n\r\nexport {\r\n    conf,\r\n    domProp,\r\n    relationFromExprToRef,\r\n    executeFunctionWithScope,\r\n    parseExprsInRawText,\r\n    evaluateRawTextWithTmpl,\r\n    parseEachExpr\r\n}\r\n","import './Polyfill'\r\nimport * as Util from './Util'\r\nimport { Kernel, Relate, Data } from './Kernel'\r\nimport * as Parser from './Parser'\r\n\r\n/**\r\n * Default configurations.\r\n * @type {Object}\r\n */\r\nvar conf = {\r\n    domBoundFlag: '__dmd_bound',\r\n    domListKey: '__dmd_key'\r\n};\r\n\r\nfunction pathContains(path, ref) {\r\n    Util.each(ref, function (p, k) {\r\n        if (path === k || path.startsWith(k + '.')) return k;\r\n    });\r\n    return null;\r\n}\r\n\r\nvar domValueToBind = {\r\n    'input': 'input',\r\n    'select': 'change'\r\n};\r\n\r\n/**\r\n * Bind data to DOM.\r\n * @param  {HTMLElement} $el            [description]\r\n * @param  {Object} ref                 [description]\r\n * @param  {Array} ext                  [description]\r\n * @return {[type]}                     [description]\r\n */\r\nfunction Bind($el, ref, ext) {\r\n    if (!Util.isNode($el) || !Util.isObject(ref)) return null;\r\n    ext = ext ? (Util.isArray(ext) ? ext : [ext]) : []; /* Ensure `ext` is an array */\r\n    var scopes = ext.concat(ref);\r\n\r\n    var nodeName = $el.nodeName.toLowerCase();\r\n\r\n    if ($el.nodeType === Node.ELEMENT_NODE && !$el[conf.domBoundFlag]) {\r\n        $el[conf.domBoundFlag] = true; /* Set a binding flag. */\r\n\r\n        /* Bind a list */\r\n        if ($el.hasAttribute(Parser.conf.attrPrefix + 'each')) {\r\n            var eachAttrName = Parser.conf.attrPrefix + 'each';\r\n            var eachExprText = $el.getAttribute(eachAttrName);\r\n            var eachExpr = Parser.parseEachExpr(eachExprText, ref);\r\n            $el.removeAttribute(eachAttrName);\r\n            var $parent = $el.parentNode;\r\n            // $parent.removeChild($el);\r\n            $parent.innerHTML = '';\r\n\r\n            var $targetList = eachExpr.target;\r\n\r\n            function bindItem(v, k) {\r\n                var $copy = $el.cloneNode(true);\r\n                var _ext = {};\r\n                _ext[eachExpr.iterator.val] = v;\r\n                if (eachExpr.iterator.key) _ext[eachExpr.iterator.key] = k;\r\n                Bind($copy, ref, [_ext].concat(ext));\r\n\r\n                $targetList.on({\r\n                    set: function (oval, nval, i, arr) {\r\n                        if (i == k) {\r\n                            console.log('set', i, nval);\r\n                            _ext[eachExpr.iterator.val] = nval;\r\n                        }\r\n                    },\r\n                    // push: function (v) {},\r\n                    unshift: function (v) {\r\n                        k++;\r\n                        _ext[eachExpr.iterator.key] = k;\r\n                    },\r\n                    // pop: function () {},\r\n                    shift: function () {\r\n                        if (k > 0) {\r\n                            k--;\r\n                            _ext[eachExpr.iterator.key] = k;\r\n                        }\r\n                    },\r\n                    splice: function (startIndex, howManyToDelete, itemToInsert) {\r\n                        if (howManyToDelete) {\r\n                            if (k >= startIndex + howManyToDelete) {\r\n                                k -= howManyToDelete;\r\n                                _ext[eachExpr.iterator.key] = k;\r\n                            }\r\n                        } else {\r\n                            var howManyItemsToInsert = Array.prototype.slice.call(arguments, 2).length;\r\n                            if (k >= startIndex) {\r\n                                k += howManyItemsToInsert;\r\n                                _ext[eachExpr.iterator.key] = k;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                return $copy;\r\n            }\r\n\r\n            Util.each($targetList, function (v, i) {\r\n                $parent.appendChild(bindItem(v, i));\r\n            });\r\n\r\n            $targetList.on({\r\n                // set: function (oval, nval, i, arr) {},\r\n                resize: function () {\r\n                    if ($parent.nodeName.toLowerCase() === 'select') {\r\n                        $parent.dispatchEvent(new Event('change'));\r\n                    }\r\n                },\r\n                push: function (v) {\r\n                    $parent.appendChild(bindItem(v, $targetList.length - 1));\r\n                },\r\n                unshift: function (v) {\r\n                    $parent.insertBefore(bindItem(v, 0), $parent.childNodes[0]);\r\n                },\r\n                pop: function () {\r\n                    $parent.removeChild($parent.lastChild);\r\n                },\r\n                shift: function () {\r\n                    $parent.removeChild($parent.firstChild);\r\n                },\r\n                splice: function (startIndex, howManyToDelete, itemToInsert) {\r\n                    if (howManyToDelete) {\r\n                        for (; howManyToDelete > 0; howManyToDelete--) {\r\n                            $parent.removeChild($parent.childNodes[startIndex]);\r\n                        }\r\n                    } else {\r\n                        var itemsToInsert = Array.prototype.slice.call(arguments, 2);\r\n                        Util.each(itemsToInsert, function (v, i) {\r\n                            $parent.insertBefore(bindItem(v, startIndex + i), $parent.childNodes[startIndex + i]);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        /* Bind child nodes recursively */\r\n        Util.each($el, function (node) {\r\n            Bind(node, ref, ext);\r\n        });\r\n\r\n        /* Bind attributes */\r\n        var attrList = [];\r\n        Util.each($el.attributes, function (value, name) {\r\n            if (!name.startsWith(Parser.conf.attrPrefix)) return;\r\n            attrList.push(name);\r\n            name = name.substr(Parser.conf.attrPrefix.length).toLowerCase();\r\n\r\n            var eventName = Util.isEventName(name);\r\n            if (eventName) { /* Event */\r\n                Util.addEvent($el, eventName, function (e) {\r\n                    Parser.executeFunctionWithScope(value, [{\r\n                        e: e\r\n                    }].concat(scopes));\r\n                }, true);\r\n                return;\r\n            }\r\n\r\n            if (domValueToBind[nodeName] && name === 'value') { /* Two-way binding */\r\n                var valueProp = Parser.conf.refBeginsWithDollar ? value.substr(1) : value;\r\n                var valueTarget = Util.seekTarget(valueProp, ext, ref);\r\n                Util.addEvent($el, domValueToBind[nodeName], function (e) {\r\n                    console.log('input change');\r\n                    Data(valueTarget, valueProp, this.value);\r\n                }, false);\r\n            }\r\n\r\n            if (Parser.domProp[name]) name = Parser.domProp[name];\r\n            else name = Parser.conf.attrsFlag + name; /* Attribute */\r\n\r\n            /* Binding */\r\n            var allrel = Parser.relationFromExprToRef(value, scopes, $el, name);\r\n            allrel.forEach(function (a) {\r\n                Relate(a.target, a.relations);\r\n            });\r\n        });\r\n\r\n        /* Clean attributes */\r\n        Util.each(attrList, function (name) {\r\n            $el.removeAttribute(name);\r\n        });\r\n    } else if ($el.nodeType === Node.TEXT_NODE) {\r\n        var tmpl = $el.nodeValue;\r\n        var expr = Parser.parseExprsInRawText(tmpl).join(';');\r\n        if (expr === '') return null;\r\n\r\n        /* Binding */\r\n        var allrel;\r\n        var $targetEl = $el;\r\n        var targetRef = 'nodeValue';\r\n        if ($el.parentNode.nodeName.toLowerCase() === 'textarea') {\r\n            $targetEl = $el.parentNode;\r\n            targetRef = 'value';\r\n        }\r\n        allrel = Parser.relationFromExprToRef(expr, scopes, $targetEl, targetRef, function () {\r\n            return Parser.evaluateRawTextWithTmpl(tmpl, scopes);\r\n        });\r\n        allrel.forEach(function (a) {\r\n            Relate(a.target, a.relations);\r\n        });\r\n    }\r\n\r\n    return $el;\r\n}\r\n\r\n/**\r\n * Unbind data from DOM.\r\n * @param       {[type]} $el      [description]\r\n * @param       {[type]} ref      [description]\r\n * @param       {[type]} relation [description]\r\n * @constructor\r\n */\r\nfunction Unbind($el, ref, relation) {\r\n    // TODO\r\n}\r\n\r\n/**\r\n * Constructor.\r\n * @param {*} $el \r\n * @param {*} ref \r\n */\r\nvar DMD = function ($el, ref) {\r\n    if (Util.isString($el)) {\r\n        $el = window.document.querySelector($el);\r\n    }\r\n    Bind.call(this, $el, ref);\r\n};\r\n\r\nDMD.kernel = Kernel;\r\nDMD.relate = Relate;\r\nDMD.$ = Data;\r\n\r\nexport default DMD\r\n"],"names":["defineProperty","Util.isObject","Util.isArray","Util.each","Util.isFunction","Util.isBasic","Util.extend","Util.clone","Util.isNumber","window","Util.isNode","Util.isInstance","Util.uid","Util.isString","Util.hasProperty","Util.flatten","conf","Util.seekTarget","Util.seekTargetIndex","Util.allRefs","Parser.conf","Parser.parseEachExpr","Util.isEventName","Util.addEvent","Parser.executeFunctionWithScope","Parser.domProp","Parser.relationFromExprToRef","Parser.parseExprsInRawText","Parser.evaluateRawTextWithTmpl"],"mappings":"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"}